---
/*
INFORMATIONS
set optionally:
- class as string
- duration as string 'value and s | ms'
- text as string
- colors as string ("<center>, <square>, <circle>") 
*/

interface Props {
  class?: string;
  duration?: string;
  text?: string;
  colors?: string;
}
const {
  class: classList,
  duration = '3s',
  text = 'Anim 41',
  // center, square, circle
  colors = '#ffffff1a, #ff3e3e, #00fa8a',
  ...attrs
} = Astro.props;
const textSize = `${text.length * 0.6}em`;

const [center, square, circle] = colors.split(',');

const style = `--duration: ${duration};--textSize: ${textSize};--center: ${center};--square: ${square};--circle: ${circle};`;
---

<div class:list={['container41', classList]} style={style} {...attrs}>
  <div class="content">
    {
      Array.from({ length: 3 }).map(() => {
        return <div class="element" />;
      })
    }
    <span>{text}</span>
  </div>
</div>

<style>
  .container41 {
    display: flex;
    justify-content: center;
    align-items: center;
    background: #001d30;
    width: calc(var(--textSize) * 2);
    height: var(--textSize);
    font-size: 1.2rem;
    .content {
      display: flex;
      position: relative;
      justify-content: center;
      align-items: center;
      transition: var(--duration);
      width: var(--textSize);
      height: var(--textSize);
      color: #fff;
      .element {
        position: absolute;

        &:nth-of-type(1) {
          z-index: 2;
          backdrop-filter: blur(10px);
          border-radius: 50%;
          background-color: var(--center);
          width: 100%;
          height: 100%;
        }
        &:nth-of-type(n + 2) {
          animation: anim41 var(--duration) ease-in-out infinite;
          width: calc(var(--textSize) * 0.4);
          height: calc(var(--textSize) * 0.4);
        }
        &:nth-of-type(2) {
          background-color: var(--square);
        }
        &:nth-of-type(3) {
          animation-delay: calc(var(--duration) / -2);
          border-radius: 50%;
          background-color: var(--circle);
        }
      }
      span {
        z-index: 10;
        color: inherit;
      }
    }
  }

  @keyframes anim41 {
    0% {
      transform: translate(-200%, 66.66%) rotate(0deg);
      z-index: 1;
    }
    50% {
      transform: translate(200%, -66.66%) rotate(180deg);
    }
    100% {
      transform: translate(-200%, 66.66%) rotate(360deg);
      z-index: 3;
    }
  }
</style>
