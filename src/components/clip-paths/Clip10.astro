---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'a'> {
  class: string;
  duration?: string;
  text?: string;
  colors?: string;
}
const {
  class: className,
  duration = '.5s',
  text = 'Clip10',
  colors = '#fff, #4834d4',
  ...rest
} = Astro.props;
const [color1, color2] = colors.split(',');
---

<a class={className} {...rest}>
  <span>{text}</span>
  <span>{text}</span>
</a>

<style define:vars={{ duration, color1, color2 }}>
  a {
    position: relative;
    width: 6em;
    height: 2em;
    font: inherit;
    span {
      position: absolute;
      top: 0;
      left: 0;
      background-color: var(--color2);
      width: 100%;
      height: 100%;
      color: var(--color1);
      line-height: 2em;
      text-align: center;
      &:nth-of-type(1):hover ~ span {
        clip-path: polygon(100% 0, 100% 0%, 100% 100%, 100% 100%, 100% 50%);
      }
      &:nth-of-type(2) {
        clip-path: polygon(60% 0, 100% 0, 100% 100%, 60% 100%, 40% 50%);
        transition: var(--duration);
        background-color: var(--color1);
        color: var(--color2);
        &:hover {
          clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%, 0 50%);
        }
      }
    }
  }
</style>
