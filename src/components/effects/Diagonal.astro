---
import { Icon } from 'astro-icon/components';

/*
INFORMATIONS:
set
- text as string
- hoverColor as string
set optionally:
- class as string
- duration as string 'value and s | ms'
*/

interface Props {
  class?: string;
  duration?: string;
  colors?: string;
  icon: string;
  href: string;
}
const {
  class: classList,
  duration = '.7s',
  colors = '#10ac84, #f1f1f1',
  icon,
  href = '#',
  ...attrs
} = Astro.props;

const [color, hoverColor] = colors.split(',');
---

<a href={href} class:list={[classList, 'icon']} {...attrs}>
  <Icon name={icon} />
</a>

<style define:vars={{ duration, color, hoverColor }}>
  .icon {
    display: flex;
    position: relative;
    justify-content: center;
    align-items: center;
    margin: auto;
    box-shadow: 0 5px 15px -5px #00000070;
    border-radius: 30%;
    background-color: #fff;
    width: 5rem;
    height: 5rem;
    overflow: clip;
    color: var(--color);
    font: inherit;
    svg {
      transition: var(--duration);
    }
    &::before {
      --size: 150%;
      position: absolute;
      bottom: calc(var(--size) * -1);
      left: calc(var(--size) * -1);
      transform: rotate(45deg) translateY(-25%);
      transition: var(--duration) cubic-bezier(0.17, 0.67, 0.88, 1.53);
      background-color: var(--color);
      width: var(--size);
      height: var(--size);
      pointer-events: none;
      content: '';
    }

    &:hover {
      svg {
        transform: scale(1.3);
        color: var(--hoverColor);
      }
      &::before {
        transform: rotate(45deg) translateY(-125%);
      }
    }
  }
</style>
