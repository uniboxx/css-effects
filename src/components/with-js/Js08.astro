---
interface Props {
  class?: string;
}
const { class: classList, ...attrs } = Astro.props;

const id = Math.random().toString(32).slice(2, 11);
---

<div id={id} class:list={['container08', classList]} {...attrs}>
  <section><h3><slot /></h3></section>
</div>

<style>
  .container08 {
    --navy: #0d172e;
    position: relative;
    background-color: var(--navy);
    aspect-ratio: 1.5;
    width: 20rem;
    height: auto;
    font-size: 2rem;
    i {
      position: absolute;
      animation: pulse08 ease-in-out infinite;
      box-shadow:
        0 0 5px #fff,
        0 0 10px #fff,
        0 0 20px #fff,
        0 0 40px #fff;
      border-radius: 50%;
      background-color: #fff;
    }
    section {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
      &::before {
        --size: 15%;
        --spread: 0.1em;
        position: absolute;
        box-shadow:
          0 0 0 var(--spread) var(--navy),
          0 0 0 calc(var(--spread) * 1.3) #fff;
        border: 1.2em solid #ff9100;
        border-radius: 50%;
        width: var(--size);
        height: var(--size);
        content: '';
      }
      h3 {
        transform: skewY(-7deg);
        z-index: 5;
        animation: floating08 5s ease-in-out infinite;
        color: #fff;
        font-weight: normal;
        font-size: 1em;
        line-height: 1;
        text-align: center;
        text-shadow:
          1px 1px 0 #ccc,
          2px 2px 0 #ccc,
          3px 3px 0 #ccc,
          4px 4px 0 #0003;
        span {
          font-weight: 700;
          font-size: 1em;
          text-shadow:
            2px 2px 0 #ccc,
            3px 3px 0 #ccc,
            4px 4px 0 #ccc,
            5px 5px 0 #ccc,
            10px 10px 0 #0003;
        }
      }
    }
  }
  @keyframes pulse08 {
    0%,
    100% {
      opacity: 0;
    }
    10%,
    90% {
      opacity: 1;
    }
  }
  @keyframes floating08 {
    0%,
    100% {
      transform: skewY(-7deg) translateY(-10px);
    }
    50% {
      transform: skewY(-7deg) translateY(10px);
    }
  }
</style>

<script define:vars={{ id }}>
  const container08 = document.getElementById(id);

  createStars();
  window.addEventListener('resize', () => {
    if (window.innerWidth < 360) {
      createStars();
    }
  });

  function createStars(n = 200) {
    const is = container08.querySelectorAll('i');
    is.forEach((i) => container08.removeChild(i));
    for (let j = 0; j < n; j++) {
      const star = document.createElement('i');
      const x = Math.floor(Math.random() * container08.clientWidth);
      const y = Math.floor(Math.random() * container08.clientHeight);
      star.style.left = `${x}px`;
      star.style.top = `${y}px`;
      const size = (Math.random() * 4 + 1).toFixed(2);
      star.style.width = `${size}px`;
      star.style.height = `${size}px`;
      const duration = (Math.random() * 2 + 1).toFixed(2);
      star.style.animationDuration = `${duration}s`;

      container08.appendChild(star);
    }
  }
</script>
